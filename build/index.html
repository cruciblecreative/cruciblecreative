
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen-a1ce949a.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-bccf8c07.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-c5541673.js"></script>
  </head>

  <body class="index" data-languages="[&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-9fa496dd.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#instantiating-the-visualizer" class="toc-h1 toc-link" data-title="Instantiating the Visualizer">Instantiating the Visualizer</a>
          </li>
          <li>
            <a href="#customizer-functions" class="toc-h1 toc-link" data-title="Customizer Functions">Customizer Functions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#change-garment" class="toc-h2 toc-link" data-title="Change Garment">Change Garment</a>
                  </li>
                  <li>
                    <a href="#change-garment-view" class="toc-h2 toc-link" data-title="Change Garment View">Change Garment View</a>
                  </li>
                  <li>
                    <a href="#change-garment-material" class="toc-h2 toc-link" data-title="Change Garment Material">Change Garment Material</a>
                  </li>
                  <li>
                    <a href="#change-garment-customization" class="toc-h2 toc-link" data-title="Change Garment Customization">Change Garment Customization</a>
                  </li>
                  <li>
                    <a href="#take-garment-screenshots-for-checkout" class="toc-h2 toc-link" data-title="Take Garment Screenshots for checkout">Take Garment Screenshots for checkout</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#visualizer-functions" class="toc-h1 toc-link" data-title="Visualizer Functions">Visualizer Functions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#set-highlight" class="toc-h2 toc-link" data-title="Set Highlight">Set Highlight</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#service-layer" class="toc-h1 toc-link" data-title="Service Layer">Service Layer</a>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Hi Scott, Harry and Crucible Team. Here&#39;s some documentation about the service layer of the Enzo project.</p>

<p>Here is the Garment object that you have outlined.</p>

<p>To see an updating version of this code in action:
<a href="https://codepen.io/kylegriffin/pen/qBBoQGr?editors=1011">Codepen</a></p>

<p>The camera object is subject to change, now that we have access to a model.</p>

<p>As of 7/12/19, Emersya&#39;s API has been updated, deprecating some functions. I am in the process of updating functions in this layer that no longer work. Essentially what needed a string before, is now merged into a single API function that takes an array.</p>
<pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">garment</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">options</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="na">id</span><span class="p">:</span> <span class="s2">"3i2h145p9wgunvs"</span><span class="p">,</span>
            <span class="na">code</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
            <span class="na">display</span><span class="p">:</span> <span class="s2">"Notch 6 cm / 2 3/8 in"</span><span class="p">,</span>
            <span class="na">parent</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">id</span><span class="p">:</span> <span class="s2">"23iulrbqepnw9v8sngw"</span><span class="p">,</span>
                <span class="na">code</span><span class="p">:</span> <span class="s2">"T010505"</span><span class="p">,</span>
                <span class="na">display</span><span class="p">:</span> <span class="s2">"Button"</span><span class="p">,</span>
                <span class="na">triggerId</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="na">allowedMaterials</span><span class="p">:</span> <span class="p">[</span><span class="s1">'buttons'</span><span class="p">,</span> <span class="s1">'buttons_white'</span><span class="p">,</span> <span class="s1">'buttons_red'</span><span class="p">],</span>
                <span class="na">allowedLinings</span><span class="p">:</span> <span class="p">[],</span>
                <span class="na">garment</span><span class="p">:</span> <span class="p">{</span>
                    <span class="na">id</span><span class="p">:</span> <span class="s2">"FE8BCEEPXQ"</span><span class="p">,</span>
                    <span class="na">code</span><span class="p">:</span> <span class="s2">"02"</span><span class="p">,</span>
                    <span class="na">display</span><span class="p">:</span> <span class="s2">"Jacket"</span><span class="p">,</span>
                <span class="p">}</span>
            <span class="p">},</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="na">id</span><span class="p">:</span> <span class="s2">"gailuwdnsfsd"</span><span class="p">,</span>
            <span class="na">code</span><span class="p">:</span> <span class="s2">"T01020401"</span><span class="p">,</span>
            <span class="na">display</span><span class="p">:</span> <span class="s2">"Left"</span><span class="p">,</span>
            <span class="na">parent</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">id</span><span class="p">:</span> <span class="s2">"4qt;rpinfp08q32rwea"</span><span class="p">,</span>
                <span class="na">code</span><span class="p">:</span> <span class="s2">"T010204"</span><span class="p">,</span>
                <span class="na">display</span><span class="p">:</span> <span class="s2">"Lapel buttonhole"</span><span class="p">,</span>
                <span class="na">triggerId</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="na">allowedMaterials</span><span class="p">:</span> <span class="p">[],</span>
                <span class="na">allowedLinings</span><span class="p">:</span> <span class="p">[],</span>
                <span class="na">garment</span><span class="p">:</span> <span class="p">{</span>
                    <span class="na">id</span><span class="p">:</span> <span class="s2">"FE8BCEEPXQ"</span><span class="p">,</span>
                    <span class="na">code</span><span class="p">:</span> <span class="s2">"02"</span><span class="p">,</span>
                    <span class="na">display</span><span class="p">:</span> <span class="s2">"Jacket"</span><span class="p">,</span>
                <span class="p">}</span>
            <span class="p">},</span>
        <span class="p">},</span>
    <span class="p">],</span>
<span class="p">}</span>
</code></pre><h1 id='instantiating-the-visualizer'>Instantiating the Visualizer</h1>
<p>My understanding is that if the customizer retains settings from previous garments, then reinstantiating the viewer by selecting a new garment will preserve the previous state if the user returns to that garment.</p>

<blockquote>
<p>To initialize, use this code:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">visualizer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Visualizer</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'#emersyaIframe'</span><span class="p">));</span>

<span class="kd">let</span> <span class="nx">emersyaID</span> <span class="o">=</span> <span class="nx">visualizer</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">garment</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>&#39;#emersyaIframe&#39; can be whatever you would prefer the id of the iframe to be.</p>
</blockquote>

<!-- <aside class="notice">
You must replace <code>meowmeowmeow</code> with your personal API key.
</aside> -->
<h1 id='customizer-functions'>Customizer Functions</h1><h2 id='change-garment'>Change Garment</h2>
<p>Specify the garment&#39;s ID. This will be the same ID as the ID provided by Emersya, which we will have set in stone once all the finalised models are added. At this moment in time, the ID used for each garment is not editable.</p>
<pre class="highlight javascript tab-javascript"><code>
<span class="kd">let</span> <span class="nx">emersyaID</span> <span class="o">=</span> <span class="nx">visualizer</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">garmentID</span><span class="p">);</span>
</code></pre><h2 id='change-garment-view'>Change Garment View</h2>
<p>Some garments will have actionable points that will affect the model. An example is a suit jacket being clicked to open and reveal the inner lining.</p>

<p>The function will also call when selecting it in the customizer.</p>
<pre class="highlight javascript tab-javascript"><code>
<span class="kd">var</span> <span class="nx">garmentView</span> <span class="o">=</span> <span class="nx">visualizer</span><span class="p">.</span><span class="nx">changeGarmentView</span><span class="p">(</span><span class="nx">triggerId</span><span class="p">);</span>
</code></pre><h2 id='change-garment-material'>Change Garment Material</h2>
<p><em>changeGarmentLining has been merged with changeGarmentMaterial</em></p>

<p>Since the primary key and customizations of the garment are exclusive to 1 change per part of the garment. </p>

<p>In the case of something like buttons, if we need to provide a material choice as well as a quantity choice, then use <code>changeGarmentCustomization</code> to set the quantity.</p>
<pre class="highlight javascript tab-javascript"><code>
<span class="kd">var</span> <span class="nx">garmentMaterial</span> <span class="o">=</span> <span class="nx">visualizer</span><span class="p">.</span><span class="nx">changeGarmentMaterial</span><span class="p">(</span><span class="nx">display</span><span class="p">,</span> <span class="nx">material</span><span class="p">);</span>
</code></pre><h2 id='change-garment-customization'>Change Garment Customization</h2>
<p>To change the garment&#39;s variant of the part of the garment. E.g. changing the width of the lapel.</p>

<p>This will most likely occur after the user has clicked the garment and triggered garmentView to zoom in and also reveal the options in the customizer.</p>
<pre class="highlight javascript tab-javascript"><code>
<span class="kd">var</span> <span class="nx">garmentCustomization</span> <span class="o">=</span> <span class="nx">visualizer</span><span class="p">.</span><span class="nx">changeGarmentCustomization</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
</code></pre><h2 id='take-garment-screenshots-for-checkout'>Take Garment Screenshots for checkout</h2>
<p>This function will generate 4 images from the garment (front, back, left, right), on a transparent background, and return an array of URLs.</p>
<pre class="highlight javascript tab-javascript"><code>
<span class="nx">visualizer</span><span class="p">.</span><span class="nx">getGarmentScreenshots</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">garmentScreenshots</span> <span class="o">=</span> <span class="nx">visualizer</span><span class="p">.</span><span class="nx">screenshots</span><span class="p">;</span>
</code></pre><h1 id='visualizer-functions'>Visualizer Functions</h1>
<p>The visualizer functions are all functions that affect the customizer. You can call them if you wish and trigger them manually, but the visualizer will be listening for these events and trigger them automatically.</p>

<div class="warning">You do not need to call this/these function(s).</div>
<h2 id='set-highlight'>Set Highlight</h2>
<p>Accepts an array of materials to be highlighted. Pass a single configurable material to highlight only one.</p>
<pre class="highlight javascript tab-javascript"><code>
<span class="nx">visualizer</span><span class="p">.</span><span class="nx">setHighlight</span><span class="p">(</span><span class="nx">display</span><span class="p">);</span>

<span class="c1">// This should remove all highlights that were set manually.</span>
<span class="nx">visualizer</span><span class="p">.</span><span class="nx">setHighlight</span><span class="p">();</span>

</code></pre><h1 id='service-layer'>Service Layer</h1>
<p><a href="https://github.com/cruciblecreative/cruciblecreative.github.io/blob/master/serviceLayer/EnzoServiceLayer.js" target="_blank">View here</a></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
